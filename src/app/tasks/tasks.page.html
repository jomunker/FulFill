<ion-header>
  <ion-toolbar>
    <ion-title>All Tasks</ion-title>
    <ion-buttons slot="end">
      <ion-button [routerLink]="'/new-task/'" routerDirection="forward">
        <ion-icon slot="icon-only" name="add"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <!-- fab to add a Task -->
  <!-- <ion-fab vertical="bottom" horizontal="center" slot="fixed">
    <ion-fab-button [routerLink]="'/new-task/'" routerDirection="forward">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab> -->
  <!-- <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
</ion-refresher>   -->
  <ion-item>
    <ion-label slot="start" >Filter by Category</ion-label>
    <ion-select name="category" #category [interfaceOptions]="customAlertOptions" interface="alert"
      placeholder="Select One">
      <ion-select-option>All</ion-select-option>
      <ion-select-option *ngFor="let category of categoriesService.categories">{{ category.title }}</ion-select-option>
    </ion-select>
  </ion-item>

<ion-list *ngFor="let task of tasksService.tasks">
    <ion-item button detail *ngIf="!category.value" [routerLink]="'/tasks/' + task.id"
      routerDirection="forward">
      <ion-icon name="bookmark"></ion-icon>
      <ion-label>{{ task.title }}</ion-label>
      <ion-label color="primary" >{{ task.category }}</ion-label>
      <ion-label>{{ task.time }} Uhr</ion-label>      
    </ion-item>
  </ion-list>
  
<ion-list *ngFor="let task of tasksService.tasks">
    <ion-item button detail *ngIf="category.value == 'All'" [routerLink]="'/tasks/' + task.id"
      routerDirection="forward">
      <ion-icon name="bookmark"></ion-icon>
      <ion-label>{{ task.title }}</ion-label>
      <ion-label color="primary" >{{ task.category }}</ion-label>
      <ion-label>{{ task.time }} Uhr</ion-label>      
    </ion-item>  
  </ion-list>

  <ion-list *ngFor="let task of tasksService.tasks">
    <ion-item button detail *ngIf="task.category == category.value" [routerLink]="'/tasks/' + task.id"
      routerDirection="forward">
      <ion-icon name="bookmark"></ion-icon>
      <ion-label>{{ task.title }}</ion-label>
      <ion-label color="primary" >{{ task.category }}</ion-label>
      <ion-label>{{ task.time }} Uhr</ion-label>      
    </ion-item>
  </ion-list>  

</ion-content>